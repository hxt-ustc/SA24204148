% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Rcode.R
\name{two_stage}
\alias{two_stage}
\title{Two-Stage Regression Analysis}
\usage{
two_stage(A, X, y, r = 1, scaled = 1, weights = rep(1, length(y)), ...)
}
\arguments{
\item{A}{A numeric matrix of size n and p, representing the input data matrix.}

\item{X}{An optional numeric matrix of size n and k, representing the design matrix. If `NULL`, no covariates are included.}

\item{y}{A numeric vector of length \(n\), representing the response variable.}

\item{r}{An integer specifying the rank for the truncated singular value decomposition (default is 1).}

\item{scaled}{A logical value indicating whether to scale the singular value decomposition components and the regression coefficients (default is `TRUE`).}

\item{weights}{A numeric vector of length \(n\), representing the weights for the observations. Default is a vector of 1's.}

\item{...}{Additional arguments passed to other methods.}
}
\value{
A list of class `"two_stage"` containing the following components:
\item{beta}{A numeric vector of estimated regression coefficients.}
\item{u}{A numeric vector of left singular vectors from the SVD of matrix \(A\).}
\item{v}{A numeric vector of right singular vectors from the SVD of matrix \(A\).}
\item{d}{The first singular value from the truncated SVD of matrix \(A\).}
\item{method}{A character string indicating the method used, i.e., "two_stage".}
\item{A}{The original input matrix \(A\).}
\item{X}{The optional design matrix \(X\).}
\item{y}{The response vector \(y\).}
\item{u_distance}{Currently set to `NA`. Placeholder for distance diagnostics.}
\item{iter}{Currently set to `NA`. Placeholder for the number of iterations.}
\item{l}{Currently set to `NA`. Placeholder for regularization parameters.}
}
\description{
This function implements a two-stage regression analysis. 
The first stage performs a truncated singular value decomposition (SVD) of the input matrix \(A\),
and the second stage fits an Ordinary Least Squares (OLS) regression model using the SVD components along with 
the optional design matrix \(X\).
}
\examples{
\dontrun{
# Generate example data
A <- matrix(rnorm(100), nrow = 20, ncol = 5)
X <- matrix(rnorm(40), nrow = 20, ncol = 2)
y <- rnorm(20)

# Perform two-stage regression
result <- two_stage(A, X, y, r = 2)
print(result)
}

}
